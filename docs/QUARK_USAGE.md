# 夸克网盘使用指南 💜

## 📖 快速开始

夸克网盘直链下载工具已完全集成到本项目中，支持个人网盘和分享链接的直链下载。

## 🎯 支持的功能

- ✅ 夸克网盘分享链接下载
- ✅ 夸克网盘个人文件下载
- ✅ 单文件直链获取
- ✅ 批量文件下载
- ✅ 密码保护分享链接

## 🚀 使用方法

### 方式一：分享链接下载（推荐）

#### 步骤1：安装工具

**油猴脚本版：**
```bash
1. 安装Tampermonkey扩展
2. 打开 src/userscript/netdisk-downloader.user.js
3. Tampermonkey会自动识别并安装
```

**Chrome插件版：**
```bash
1. 打开 chrome://extensions/
2. 开启"开发者模式"
3. 点击"加载已解压的扩展程序"
4. 选择 src/extension/ 文件夹
```

#### 步骤2：打开夸克网盘分享链接

访问夸克网盘分享链接，例如：
```
https://pan.quark.cn/s/xxxxxxxxxxxxx
```

#### 步骤3：查看文件列表

- 如果有访问密码，先输入密码
- 等待页面加载完成
- 脚本会自动注入"直链下载"按钮

#### 步骤4：获取直链并下载

1. 点击页面上的"**直链下载**"按钮（紫色渐变按钮）
2. 脚本会自动解析文件列表
3. 如果是单个文件，直接开始下载
4. 如果是多个文件，会弹出文件选择窗口

#### 步骤5：选择文件下载

在弹出的文件列表中：
- 点击单个文件的"下载"按钮 - 下载单个文件
- 点击"批量下载全部"按钮 - 下载所有文件
- 浏览器会自动开始下载

### 方式二：个人网盘下载

#### 步骤1：登录夸克网盘

访问并登录：
```
https://pan.quark.cn
```

#### 步骤2：选择文件

- 进入"我的网盘"
- 浏览到要下载的文件
- 点击文件或勾选文件

#### 步骤3：使用直链下载

1. 点击页面上的"**直链下载**"按钮
2. 脚本会自动获取选中文件的信息
3. 浏览器自动开始下载

## 🔧 高级使用

### 配合下载管理器使用

1. **IDM (Internet Download Manager)**
   ```
   - 点击"直链下载"获取链接
   - IDM会自动捕获下载
   - 或手动复制链接到IDM
   ```

2. **Free Download Manager**
   ```
   - 获取直链后
   - 在FDM中新建下载任务
   - 粘贴直链地址
   ```

3. **Aria2**
   ```bash
   # 复制直链后使用命令行
   aria2c "直链地址" -o "文件名.ext"
   ```

### 批量下载技巧

1. **选择多个文件**
   - 在文件列表中勾选多个文件
   - 点击"直链下载"
   - 在弹窗中选择要下载的文件

2. **批量下载全部**
   - 点击"批量下载全部"按钮
   - 脚本会依次下载所有文件
   - 每个文件间隔1秒，避免触发限制

## ⚠️ 注意事项

### 1. 登录要求

**分享链接：**
- 无需登录即可下载
- 部分链接可能需要输入访问密码

**个人网盘：**
- 必须登录夸克网盘账号
- 确保账号有权限访问文件

### 2. 文件限制

- **大文件下载**：部分大文件可能需要会员权限
- **下载次数**：分享链接可能有下载次数限制
- **有效期**：部分分享链接有时效性

### 3. 速度问题

- **限速**：夸克网盘可能对非会员限速
- **建议**：使用下载管理器可能提高速度
- **高峰期**：网络高峰期可能影响下载速度

### 4. 错误处理

**"无法获取直链"错误：**
```
可能原因：
1. 分享链接已过期
2. 文件已被删除
3. 需要输入访问密码
4. 网络连接问题

解决方法：
1. 确认链接有效性
2. 检查是否需要密码
3. 重新刷新页面
4. 检查网络连接
```

**"未找到文件"错误：**
```
可能原因：
1. 页面未完全加载
2. 脚本未正确识别页面

解决方法：
1. 等待页面完全加载
2. 刷新页面重试
3. 检查浏览器控制台错误(F12)
```

## 📱 移动端使用

### Android (Kiwi Browser)

1. **安装Kiwi Browser**
   - 从Google Play下载Kiwi Browser
   - Kiwi支持Chrome扩展

2. **安装扩展**
   - 在Kiwi中访问Chrome Web Store
   - 或直接安装油猴脚本

3. **使用方法**
   - 与桌面版相同
   - 点击"直链下载"按钮
   - 浏览器自动下载

### iOS (Safari)

1. **安装Userscripts**
   - 从App Store安装Userscripts
   - 或使用其他支持油猴脚本的浏览器

2. **添加脚本**
   - 复制脚本内容
   - 在Userscripts中创建新脚本

3. **使用**
   - 访问夸克网盘
   - 使用方法与桌面版相同

## 🐛 常见问题

### Q1: 找不到"直链下载"按钮？

**A:**
- 确认脚本/插件已正确安装
- 刷新页面重试
- 检查是否在支持的页面（分享链接或个人网盘）
- 查看浏览器控制台是否有错误信息

### Q2: 点击下载没有反应？

**A:**
- 检查浏览器是否阻止了弹窗
- 查看浏览器下载设置
- 确认文件是否可以正常下载
- 尝试使用开发者工具查看网络请求

### Q3: 下载速度很慢？

**A:**
- 夸克网盘对非会员可能限速
- 尝试使用下载管理器
- 避开网络高峰期
- 考虑开通夸克网盘会员

### Q4: 批量下载中断？

**A:**
- 检查网络连接
- 可能触发了频率限制，等待后重试
- 尝试减少并发下载数量
- 分批次下载

### Q5: 需要密码的链接怎么办？

**A:**
```
1. 先手动输入访问密码
2. 等待页面加载文件列表
3. 然后点击"直链下载"按钮
4. 脚本会记住密码（存储在localStorage）
```

## 💡 使用技巧

### 技巧1：快捷键（开发中）
```
将来可能支持：
- Ctrl+D: 快速下载当前文件
- Ctrl+Shift+D: 批量下载全部
```

### 技巧2：直链复制
```javascript
// 在控制台获取直链
// 1. 打开浏览器控制台 (F12)
// 2. 点击"直链下载"按钮
// 3. 在Network标签中查看请求
// 4. 找到download相关请求
```

### 技巧3：自定义下载目录
```
在浏览器设置中：
1. 打开浏览器设置
2. 找到"下载"选项
3. 设置默认下载位置
4. 或开启"下载前询问保存位置"
```

## 📊 功能对比

| 功能 | 夸克网盘官方 | 本工具 |
|------|-------------|--------|
| 直链获取 | ❌ | ✅ |
| 批量下载 | ⚠️ 限制 | ✅ |
| 下载管理器支持 | ❌ | ✅ |
| 速度限制 | ⚠️ 非会员限速 | 同官方 |
| 操作便捷性 | 一般 | ✅ 优秀 |

## 🔗 相关链接

- **夸克网盘官网**: https://pan.quark.cn
- **项目主页**: https://github.com/weiruankeji/weiruan-Netdisk
- **问题反馈**: https://github.com/weiruankeji/weiruan-Netdisk/issues

## 📞 获取帮助

如果遇到问题：

1. **查看文档**
   - [快速开始](../docs/QUICK_START.md)
   - [油猴脚本安装](../docs/USERSCRIPT_INSTALL.md)
   - [Chrome插件安装](../docs/EXTENSION_INSTALL.md)

2. **提交Issue**
   - 访问GitHub Issues
   - 描述问题详情
   - 附上错误截图

3. **社区讨论**
   - GitHub Discussions
   - 与其他用户交流经验

---

**温馨提示：**
- 请遵守夸克网盘服务条款
- 不要滥用下载功能
- 尊重版权，合法下载

🎉 **享受便捷的夸克网盘下载体验！**
